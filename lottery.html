<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘è´¢äº†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #e74c3c;
            margin-bottom: 30px;
            font-size: 32px;
        }
        
        .lottery-section {
            margin-bottom: 30px;
        }
        
        h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .balls-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .ball {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .red-ball {
            background-color: #e74c3c;
            color: white;
        }
        
        .red-ball:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);
        }
        
        .red-ball.selected {
            background-color: #c0392b;
            border-color: #96281b;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(231, 76, 60, 0.8);
        }
        
        .blue-ball {
            background-color: #3498db;
            color: white;
        }
        
        .blue-ball:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .blue-ball.selected {
            background-color: #2980b9;
            border-color: #1f618d;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(52, 152, 219, 0.8);
        }
        
        .selected-numbers {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .selected-numbers h3 {
            color: #666;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .selected-balls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .selected-balls .ball {
            cursor: default;
        }
        
        .selected-balls .separator {
            font-size: 24px;
            color: #999;
            margin: 0 5px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background-color: #27ae60;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #229954;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background-color: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        .info {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid #2196f3;
            color: #1565c0;
            margin-top: 20px;
        }
        
        .tip {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        /* é€‰é¡¹å¡æ ·å¼ */
        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .tab-btn {
            padding: 12px 24px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            background-color: transparent;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        
        .tab-btn:hover {
            color: #333;
        }
        
        .tab-btn.active {
            color: #e74c3c;
            border-bottom-color: #e74c3c;
            background-color: #fef0ef;
        }
        
        /* æ¸¸æˆé¢æ¿æ ·å¼ */
        .game-panel {
            margin-bottom: 20px;
        }
        
        /* å¤§ä¹é€å‰åŒºçƒæ ·å¼ */
        .front-ball {
            background-color: #27ae60;
            color: white;
        }
        
        .front-ball:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(39, 174, 96, 0.5);
        }
        
        .front-ball.selected {
            background-color: #229954;
            border-color: #1e8449;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(39, 174, 96, 0.8);
        }
        
        /* å…­åˆå½©çƒæ ·å¼ */
        .lhc-ball {
            background-color: #f39c12;
            color: white;
        }
        
        .lhc-ball:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }
        
        .lhc-ball.selected {
            background-color: #e67e22;
            border-color: #d35400;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(243, 156, 18, 0.8);
        }
        
        /* å…­åˆå½©å°ç æ ·å¼ */
        .lhc-small {
            background-color: #3498db;
            color: white;
        }
        
        /* å…­åˆå½©ç‰¹ç æ ·å¼ */
        .lhc-special {
            background-color: #9b59b6;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ä¸€æ¬¡å°±ä¸­</h1>
        
        <!-- é€‰é¡¹å¡ -->
        <div class="tabs">
            <button class="tab-btn active" data-type="ssq">ğŸ”´ åŒè‰²çƒ</button>
            <button class="tab-btn" data-type="dlt">ğŸŸ¢ å¤§ä¹é€</button>
            <button class="tab-btn" data-type="lhc">ğŸ”Š å…­åˆå½©</button>
        </div>
        
        <!-- åŒè‰²çƒé€‰å·åŒº -->
        <div class="game-panel" id="ssqPanel">
            <!-- çº¢è‰²çƒé€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸ”´ çº¢è‰²çƒ (1-33ï¼Œé€‰æ‹©6ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="ssqRedCount">0</span>/6</div>
                <div class="balls-container" id="ssqRedBalls"></div>
            </div>
            
            <!-- è“è‰²çƒé€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸ”µ è“è‰²çƒ (1-16ï¼Œé€‰æ‹©1ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="ssqBlueCount">0</span>/1</div>
                <div class="balls-container" id="ssqBlueBalls"></div>
            </div>
            
            <!-- å·²é€‰å·ç  -->
            <div class="selected-numbers">
                <h3>ğŸ« å·²é€‰åŒè‰²çƒå·ç </h3>
                <div class="selected-balls" id="ssqSelectedBalls">
                    <span style="color: #999;">è¯·é€‰æ‹©å·ç </span>
                </div>
            </div>
        </div>
        
        <!-- å¤§ä¹é€é€‰å·åŒº -->
        <div class="game-panel" id="dltPanel" style="display: none;">
            <!-- å‰åŒºé€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸŸ¢ å‰åŒº (1-35ï¼Œé€‰æ‹©5ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="dltFrontCount">0</span>/5</div>
                <div class="balls-container" id="dltFrontBalls"></div>
            </div>
            
            <!-- ååŒºé€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸ”µ ååŒº (1-12ï¼Œé€‰æ‹©2ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="dltBackCount">0</span>/2</div>
                <div class="balls-container" id="dltBackBalls"></div>
            </div>
            
            <!-- å·²é€‰å·ç  -->
            <div class="selected-numbers">
                <h3>ğŸ« å·²é€‰å¤§ä¹é€å·ç </h3>
                <div class="selected-balls" id="dltSelectedBalls">
                    <span style="color: #999;">è¯·é€‰æ‹©å·ç </span>
                </div>
            </div>
        </div>
        
        <!-- å…­åˆå½©é€‰å·åŒº -->
        <div class="game-panel" id="lhcPanel" style="display: none;">
            <!-- å¹³ç é€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸ”Š å¹³ç  (1-49ï¼Œé€‰æ‹©6ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="lhcNormalCount">0</span>/6</div>
                <div class="balls-container" id="lhcNormalBalls"></div>
            </div>
            
            <!-- ç‰¹ç é€‰æ‹© -->
            <div class="lottery-section">
                <h2>ğŸŒŸ ç‰¹ç  (1-49ï¼Œé€‰æ‹©1ä¸ª)</h2>
                <div class="tip">å·²é€‰æ‹©: <span id="lhcSpecialCount">0</span>/1</div>
                <div class="balls-container" id="lhcSpecialBalls"></div>
            </div>
            
            <!-- å·²é€‰å·ç  -->
            <div class="selected-numbers">
                <h3>ğŸ« å·²é€‰å…­åˆå½©å·ç </h3>
                <div class="selected-balls" id="lhcSelectedBalls">
                    <span style="color: #999;">è¯·é€‰æ‹©å·ç </span>
                </div>
            </div>
            
            <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
            <div class="result-display" style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; display: none;">
                <h3 style="color: #e74c3c; margin-bottom: 10px;">ğŸ¯ æœºé€‰ç»“æœ</h3>
                <div id="lhcResultText"></div>
            </div>
            
            <!-- å…­åˆå½©ç‰¹æ®Šç©æ³•æ§åˆ¶ -->
            <div class="controls" style="margin-top: 20px;">
                <button class="btn btn-primary" id="lhcThreeAllBtn">ğŸ² æœºé€‰ä¸‰å…¨ä¸­</button>
            </div>
        </div>
        
        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="controls">
            <button class="btn btn-primary" id="randomBtn">ğŸ² æœºé€‰ä¸€ç»„</button>
            <button class="btn btn-secondary" id="clearBtn">ğŸ—‘ï¸ æ¸…é™¤å½“å‰</button>
            <button class="btn btn-danger" id="clearAllBtn">ğŸ§¹ æ¸…ç©ºæ‰€æœ‰</button>
        </div>
        
        <!-- æç¤ºä¿¡æ¯ -->
        <div class="info">
            <div id="ssqInfo">
                <strong>åŒè‰²çƒç©æ³•è¯´æ˜ï¼š</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>ä»çº¢è‰²çƒä¸­é€‰æ‹©6ä¸ªå·ç  (1-33)</li>
                    <li>ä»è“è‰²çƒä¸­é€‰æ‹©1ä¸ªå·ç  (1-16)</li>
                    <li>ç‚¹å‡»å·ç è¿›è¡Œé€‰æ‹©/å–æ¶ˆ</li>
                    <li>ä½¿ç”¨æœºé€‰åŠŸèƒ½å¿«é€Ÿç”Ÿæˆå·ç </li>
                    <li>ç¥æ‚¨å¥½è¿ï¼ğŸ‰</li>
                </ul>
            </div>
            <div id="dltInfo" style="display: none;">
                <strong>å¤§ä¹é€ç©æ³•è¯´æ˜ï¼š</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>ä»å‰åŒºä¸­é€‰æ‹©5ä¸ªå·ç  (1-35)</li>
                    <li>ä»ååŒºä¸­é€‰æ‹©2ä¸ªå·ç  (1-12)</li>
                    <li>ç‚¹å‡»å·ç è¿›è¡Œé€‰æ‹©/å–æ¶ˆ</li>
                    <li>ä½¿ç”¨æœºé€‰åŠŸèƒ½å¿«é€Ÿç”Ÿæˆå·ç </li>
                    <li>ç¥æ‚¨å¥½è¿ï¼ğŸ‰</li>
                </ul>
            </div>
            <div id="lhcInfo" style="display: none;">
                <strong>å…­åˆå½©ç©æ³•è¯´æ˜ï¼š</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>å¹³ç ï¼šä»1-49ä¸ªå·ç ä¸­é€‰æ‹©6ä¸ªå·ç </li>
                    <li>ç‰¹ç ï¼šä»1-49ä¸ªå·ç ä¸­é€‰æ‹©1ä¸ªå·ç </li>
                    <li>æ€»ç©æ³•ï¼š6ä¸ªå¹³ç  + 1ä¸ªç‰¹ç </li>
                    <li>ç‚¹å‡»å·ç è¿›è¡Œé€‰æ‹©/å–æ¶ˆ</li>
                    <li>ä½¿ç”¨å¿«é€Ÿæœºé€‰åŠŸèƒ½å¿«é€Ÿç”Ÿæˆä¸€ç»„å·ç </li>
                    <li>ç¥æ‚¨å¥½è¿ï¼ğŸ‰</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        // å…¨å±€å˜é‡
        let currentGameType = 'ssq'; // å½“å‰æ¸¸æˆç±»å‹ï¼šssq(åŒè‰²çƒ)ã€dlt(å¤§ä¹é€) æˆ– lhc(å…­åˆå½©)
        
        // åŒè‰²çƒæ•°æ®
        let ssqSelectedRed = [];
        let ssqSelectedBlue = null;
        
        // å¤§ä¹é€æ•°æ®
        let dltSelectedFront = [];
        let dltSelectedBack = [];
        
        // å…­åˆå½©æ•°æ®
        let lhcSelectedNormal = []; // å¹³ç ï¼ˆ6ä¸ªï¼‰
        let lhcSelectedSpecial = null; // ç‰¹ç ï¼ˆ1ä¸ªï¼‰
        
        // DOMå…ƒç´ 
        // é€‰é¡¹å¡
        const tabBtns = document.querySelectorAll('.tab-btn');
        const ssqPanel = document.getElementById('ssqPanel');
        const dltPanel = document.getElementById('dltPanel');
        const lhcPanel = document.getElementById('lhcPanel');
        const ssqInfo = document.getElementById('ssqInfo');
        const dltInfo = document.getElementById('dltInfo');
        const lhcInfo = document.getElementById('lhcInfo');
        
        // æ§åˆ¶æŒ‰é’®
        const randomBtn = document.getElementById('randomBtn');
        const clearBtn = document.getElementById('clearBtn');
        const clearAllBtn = document.getElementById('clearAllBtn');
        
        // å…­åˆå½©ç‰¹æ®Šç©æ³•æŒ‰é’®
        const lhcThreeAllBtn = document.getElementById('lhcThreeAllBtn');
        
        // åŒè‰²çƒDOM
        const ssqRedBalls = document.getElementById('ssqRedBalls');
        const ssqBlueBalls = document.getElementById('ssqBlueBalls');
        const ssqSelectedBalls = document.getElementById('ssqSelectedBalls');
        const ssqRedCount = document.getElementById('ssqRedCount');
        const ssqBlueCount = document.getElementById('ssqBlueCount');
        
        // å¤§ä¹é€DOM
        const dltFrontBalls = document.getElementById('dltFrontBalls');
        const dltBackBalls = document.getElementById('dltBackBalls');
        const dltSelectedBalls = document.getElementById('dltSelectedBalls');
        const dltFrontCount = document.getElementById('dltFrontCount');
        const dltBackCount = document.getElementById('dltBackCount');
        
        // å…­åˆå½©DOM
        const lhcNormalBalls = document.getElementById('lhcNormalBalls');
        const lhcSpecialBalls = document.getElementById('lhcSpecialBalls');
        const lhcSelectedBalls = document.getElementById('lhcSelectedBalls');
        const lhcNormalCount = document.getElementById('lhcNormalCount');
        const lhcSpecialCount = document.getElementById('lhcSpecialCount');
        const lhcResultDisplay = document.querySelector('.result-display');
        const lhcResultText = document.getElementById('lhcResultText');
        
        // åˆå§‹åŒ–åŒè‰²çƒçº¢çƒ
        function initSsqRedBalls() {
            for (let i = 1; i <= 33; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball red-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleSsqRed(i);
                ssqRedBalls.appendChild(ball);
            }
        }
        
        // åˆå§‹åŒ–åŒè‰²çƒè“çƒ
        function initSsqBlueBalls() {
            for (let i = 1; i <= 16; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball blue-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleSsqBlue(i);
                ssqBlueBalls.appendChild(ball);
            }
        }
        
        // åˆå§‹åŒ–å¤§ä¹é€å‰åŒºçƒ
        function initDltFrontBalls() {
            for (let i = 1; i <= 35; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball front-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleDltFront(i);
                dltFrontBalls.appendChild(ball);
            }
        }
        
        // åˆå§‹åŒ–å¤§ä¹é€ååŒºçƒ
        function initDltBackBalls() {
            for (let i = 1; i <= 12; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball blue-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleDltBack(i);
                dltBackBalls.appendChild(ball);
            }
        }
        
        // åˆå§‹åŒ–å…­åˆå½©å¹³ç å·ç çƒ
        function initLhcNormalBalls() {
            for (let i = 1; i <= 49; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball lhc-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleLhcNormal(i);
                lhcNormalBalls.appendChild(ball);
            }
        }
        
        // åˆå§‹åŒ–å…­åˆå½©ç‰¹ç å·ç çƒ
        function initLhcSpecialBalls() {
            for (let i = 1; i <= 49; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball lhc-ball';
                ball.textContent = i;
                ball.dataset.number = i;
                ball.onclick = () => toggleLhcSpecial(i);
                lhcSpecialBalls.appendChild(ball);
            }
        }
        
        // åˆ‡æ¢æ¸¸æˆç±»å‹
        function switchGameType(type) {
            currentGameType = type;
            
            // æ›´æ–°é€‰é¡¹å¡æ ·å¼
            tabBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-type="${type}"]`).classList.add('active');
            
            // æ˜¾ç¤º/éšè—æ¸¸æˆé¢æ¿
            if (type === 'ssq') {
                ssqPanel.style.display = 'block';
                dltPanel.style.display = 'none';
                lhcPanel.style.display = 'none';
                ssqInfo.style.display = 'block';
                dltInfo.style.display = 'none';
                lhcInfo.style.display = 'none';
            } else if (type === 'dlt') {
                ssqPanel.style.display = 'none';
                dltPanel.style.display = 'block';
                lhcPanel.style.display = 'none';
                ssqInfo.style.display = 'none';
                dltInfo.style.display = 'block';
                lhcInfo.style.display = 'none';
            } else {
                ssqPanel.style.display = 'none';
                dltPanel.style.display = 'none';
                lhcPanel.style.display = 'block';
                ssqInfo.style.display = 'none';
                dltInfo.style.display = 'none';
                lhcInfo.style.display = 'block';
            }
        }
        
        // å…­åˆå½©å¹³ç é€‰æ‹©
        function toggleLhcNormal(number) {
            const ball = document.querySelector(`#lhcNormalBalls .lhc-ball[data-number="${number}"]`);
            
            if (lhcSelectedNormal.includes(number)) {
                // å–æ¶ˆé€‰æ‹©
                lhcSelectedNormal = lhcSelectedNormal.filter(n => n !== number);
                ball.classList.remove('selected');
            } else {
                // é€‰æ‹©å¹³ç ï¼Œæœ€å¤š6ä¸ª
                if (lhcSelectedNormal.length < 6) {
                    lhcSelectedNormal.push(number);
                    lhcSelectedNormal.sort((a, b) => a - b);
                    ball.classList.add('selected');
                }
            }
            
            updateLhcDisplay();
        }
        
        // å…­åˆå½©ç‰¹ç é€‰æ‹©
        function toggleLhcSpecial(number) {
            // å–æ¶ˆä¹‹å‰é€‰æ‹©çš„ç‰¹ç 
            if (lhcSelectedSpecial !== null) {
                const prevBall = document.querySelector(`#lhcSpecialBalls .lhc-ball[data-number="${lhcSelectedSpecial}"]`);
                prevBall.classList.remove('selected');
            }
            
            // é€‰æ‹©æ–°çš„ç‰¹ç 
            lhcSelectedSpecial = number;
            const ball = document.querySelector(`#lhcSpecialBalls .lhc-ball[data-number="${number}"]`);
            ball.classList.add('selected');
            
            updateLhcDisplay();
        }
        
        // æ›´æ–°å…­åˆå½©æ˜¾ç¤º
        function updateLhcDisplay() {
            // æ›´æ–°è®¡æ•°
            lhcNormalCount.textContent = lhcSelectedNormal.length;
            lhcSpecialCount.textContent = lhcSelectedSpecial ? 1 : 0;
            
            // æ›´æ–°å·²é€‰å·ç 
            lhcSelectedBalls.innerHTML = '';
            
            if (lhcSelectedNormal.length === 0 && lhcSelectedSpecial === null) {
                lhcSelectedBalls.innerHTML = '<span style="color: #999;">è¯·é€‰æ‹©å·ç </span>';
                return;
            }
            
            // æ·»åŠ å¹³ç 
            lhcSelectedNormal.forEach(number => {
                const ball = document.createElement('div');
                ball.className = 'ball lhc-ball selected';
                ball.textContent = number;
                lhcSelectedBalls.appendChild(ball);
            });
            
            // æ·»åŠ åˆ†éš”ç¬¦
            if (lhcSelectedNormal.length > 0 && lhcSelectedSpecial !== null) {
                const separator = document.createElement('span');
                separator.className = 'separator';
                separator.textContent = '+';
                lhcSelectedBalls.appendChild(separator);
            }
            
            // æ·»åŠ ç‰¹ç 
            if (lhcSelectedSpecial !== null) {
                const ball = document.createElement('div');
                ball.className = 'ball lhc-ball lhc-special selected';
                ball.textContent = lhcSelectedSpecial;
                lhcSelectedBalls.appendChild(ball);
            }
        }
        
        // å…­åˆå½©æœºé€‰ä¸€ç»„ï¼ˆ6+1ï¼‰
        function randomLhc() {
            // æ¸…ç©ºä¹‹å‰çš„é€‰æ‹©
            clearLhcSelection();
            
            // éšæœºé€‰æ‹©6ä¸ªå¹³ç 
            const allNumbers = Array.from({length: 49}, (_, i) => i + 1);
            for (let i = 0; i < 6; i++) {
                const randomIndex = Math.floor(Math.random() * allNumbers.length);
                const selectedNumber = allNumbers.splice(randomIndex, 1)[0];
                toggleLhcNormal(selectedNumber);
            }
            
            // éšæœºé€‰æ‹©1ä¸ªç‰¹ç 
            const specialNumber = Math.floor(Math.random() * 49) + 1;
            toggleLhcSpecial(specialNumber);
            
            // æ˜¾ç¤ºç»“æœ
            showLhcResult();
        }
        
        // æ˜¾ç¤ºå…­åˆå½©æœºé€‰ç»“æœ
        function showLhcResult() {
            lhcResultDisplay.style.display = 'block';
            
            let resultText = '<div style="font-size: 16px; line-height: 1.8;">';
            resultText += '<strong>å·²é€‰å·ç ï¼š</strong>';
            lhcSelectedNormal.forEach(number => {
                resultText += `<span style="display: inline-block; width: 30px; height: 30px; line-height: 30px; background-color: #f39c12; color: white; border-radius: 50%; text-align: center; margin: 0 5px 5px 0; font-weight: bold;">${number}</span>`;
            });
            
            if (lhcSelectedSpecial !== null) {
                resultText += '<br><strong>ç‰¹ç ï¼š</strong>';
                resultText += `<span style="display: inline-block; width: 30px; height: 30px; line-height: 30px; background-color: #9b59b6; color: white; border-radius: 50%; text-align: center; margin: 5px; font-weight: bold;">${lhcSelectedSpecial}</span>`;
            }
            resultText += '</div>';
            
            lhcResultText.innerHTML = resultText;
        }
        
        // å…­åˆå½©æœºé€‰ä¸‰å…¨ä¸­ï¼ˆæŒ‘é€‰3ä¸ªæ•°ï¼‰
        function randomLhcThreeAll() {
            // æ¸…ç©ºä¹‹å‰çš„é€‰æ‹©
            clearLhcSelection();
            
            // éšæœºé€‰æ‹©3ä¸ªå·ç ä½œä¸ºå¹³ç 
            const allNumbers = Array.from({length: 49}, (_, i) => i + 1);
            for (let i = 0; i < 3; i++) {
                const randomIndex = Math.floor(Math.random() * allNumbers.length);
                const selectedNumber = allNumbers.splice(randomIndex, 1)[0];
                toggleLhcNormal(selectedNumber);
            }
            
            // æ˜¾ç¤ºç»“æœ
            showLhcResult();
        }
        
        // åŒè‰²çƒçº¢çƒé€‰æ‹©
        function toggleSsqRed(number) {
            const ball = document.querySelector(`#ssqRedBalls .red-ball[data-number="${number}"]`);
            
            if (ssqSelectedRed.includes(number)) {
                // å–æ¶ˆé€‰æ‹©
                ssqSelectedRed = ssqSelectedRed.filter(n => n !== number);
                ball.classList.remove('selected');
            } else {
                // é€‰æ‹©çº¢çƒï¼Œæœ€å¤š6ä¸ª
                if (ssqSelectedRed.length < 6) {
                    ssqSelectedRed.push(number);
                    ssqSelectedRed.sort((a, b) => a - b);
                    ball.classList.add('selected');
                }
            }
            
            updateSsqDisplay();
        }
        
        // åŒè‰²çƒè“çƒé€‰æ‹©
        function toggleSsqBlue(number) {
            const ball = document.querySelector(`#ssqBlueBalls .blue-ball[data-number="${number}"]`);
            
            // å–æ¶ˆä¹‹å‰é€‰æ‹©çš„è“çƒ
            if (ssqSelectedBlue !== null) {
                const prevBall = document.querySelector(`#ssqBlueBalls .blue-ball[data-number="${ssqSelectedBlue}"]`);
                prevBall.classList.remove('selected');
            }
            
            // é€‰æ‹©æ–°çš„è“çƒ
            ssqSelectedBlue = number;
            ball.classList.add('selected');
            
            updateSsqDisplay();
        }
        
        // æ›´æ–°åŒè‰²çƒæ˜¾ç¤º
        function updateSsqDisplay() {
            // æ›´æ–°è®¡æ•°
            ssqRedCount.textContent = ssqSelectedRed.length;
            ssqBlueCount.textContent = ssqSelectedBlue ? 1 : 0;
            
            // æ›´æ–°å·²é€‰å·ç 
            ssqSelectedBalls.innerHTML = '';
            
            if (ssqSelectedRed.length === 0 && !ssqSelectedBlue) {
                ssqSelectedBalls.innerHTML = '<span style="color: #999;">è¯·é€‰æ‹©å·ç </span>';
                return;
            }
            
            // æ·»åŠ çº¢çƒ
            ssqSelectedRed.forEach(number => {
                const ball = document.createElement('div');
                ball.className = 'ball red-ball selected';
                ball.textContent = number;
                ssqSelectedBalls.appendChild(ball);
            });
            
            // æ·»åŠ åˆ†éš”ç¬¦
            if (ssqSelectedRed.length > 0 && ssqSelectedBlue) {
                const separator = document.createElement('span');
                separator.className = 'separator';
                separator.textContent = '+';
                ssqSelectedBalls.appendChild(separator);
            }
            
            // æ·»åŠ è“çƒ
            if (ssqSelectedBlue) {
                const ball = document.createElement('div');
                ball.className = 'ball blue-ball selected';
                ball.textContent = ssqSelectedBlue;
                ssqSelectedBalls.appendChild(ball);
            }
        }
        
        // å¤§ä¹é€å‰åŒºé€‰æ‹©
        function toggleDltFront(number) {
            const ball = document.querySelector(`#dltFrontBalls .front-ball[data-number="${number}"]`);
            
            if (dltSelectedFront.includes(number)) {
                // å–æ¶ˆé€‰æ‹©
                dltSelectedFront = dltSelectedFront.filter(n => n !== number);
                ball.classList.remove('selected');
            } else {
                // é€‰æ‹©å‰åŒºï¼Œæœ€å¤š5ä¸ª
                if (dltSelectedFront.length < 5) {
                    dltSelectedFront.push(number);
                    dltSelectedFront.sort((a, b) => a - b);
                    ball.classList.add('selected');
                }
            }
            
            updateDltDisplay();
        }
        
        // å¤§ä¹é€ååŒºé€‰æ‹©
        function toggleDltBack(number) {
            const ball = document.querySelector(`#dltBackBalls .blue-ball[data-number="${number}"]`);
            
            if (dltSelectedBack.includes(number)) {
                // å–æ¶ˆé€‰æ‹©
                dltSelectedBack = dltSelectedBack.filter(n => n !== number);
                ball.classList.remove('selected');
            } else {
                // é€‰æ‹©ååŒºï¼Œæœ€å¤š2ä¸ª
                if (dltSelectedBack.length < 2) {
                    dltSelectedBack.push(number);
                    dltSelectedBack.sort((a, b) => a - b);
                    ball.classList.add('selected');
                }
            }
            
            updateDltDisplay();
        }
        
        // æ›´æ–°å¤§ä¹é€æ˜¾ç¤º
        function updateDltDisplay() {
            // æ›´æ–°è®¡æ•°
            dltFrontCount.textContent = dltSelectedFront.length;
            dltBackCount.textContent = dltSelectedBack.length;
            
            // æ›´æ–°å·²é€‰å·ç 
            dltSelectedBalls.innerHTML = '';
            
            if (dltSelectedFront.length === 0 && dltSelectedBack.length === 0) {
                dltSelectedBalls.innerHTML = '<span style="color: #999;">è¯·é€‰æ‹©å·ç </span>';
                return;
            }
            
            // æ·»åŠ å‰åŒº
            dltSelectedFront.forEach(number => {
                const ball = document.createElement('div');
                ball.className = 'ball front-ball selected';
                ball.textContent = number;
                dltSelectedBalls.appendChild(ball);
            });
            
            // æ·»åŠ åˆ†éš”ç¬¦
            if (dltSelectedFront.length > 0 && dltSelectedBack.length > 0) {
                const separator = document.createElement('span');
                separator.className = 'separator';
                separator.textContent = '+';
                dltSelectedBalls.appendChild(separator);
            }
            
            // æ·»åŠ ååŒº
            dltSelectedBack.forEach(number => {
                const ball = document.createElement('div');
                ball.className = 'ball blue-ball selected';
                ball.textContent = number;
                dltSelectedBalls.appendChild(ball);
            });
        }
        
        // åŒè‰²çƒæœºé€‰
        function randomSsq() {
            // æ¸…ç©ºä¹‹å‰çš„é€‰æ‹©
            clearSsqSelection();
            
            // éšæœºé€‰æ‹©6ä¸ªçº¢çƒ
            const allRed = Array.from({length: 33}, (_, i) => i + 1);
            for (let i = 0; i < 6; i++) {
                const randomIndex = Math.floor(Math.random() * allRed.length);
                const selectedNumber = allRed.splice(randomIndex, 1)[0];
                toggleSsqRed(selectedNumber);
            }
            
            // éšæœºé€‰æ‹©1ä¸ªè“çƒ
            const randomBlue = Math.floor(Math.random() * 16) + 1;
            toggleSsqBlue(randomBlue);
        }
        
        // å¤§ä¹é€æœºé€‰
        function randomDlt() {
            // æ¸…ç©ºä¹‹å‰çš„é€‰æ‹©
            clearDltSelection();
            
            // éšæœºé€‰æ‹©5ä¸ªå‰åŒº
            const allFront = Array.from({length: 35}, (_, i) => i + 1);
            for (let i = 0; i < 5; i++) {
                const randomIndex = Math.floor(Math.random() * allFront.length);
                const selectedNumber = allFront.splice(randomIndex, 1)[0];
                toggleDltFront(selectedNumber);
            }
            
            // éšæœºé€‰æ‹©2ä¸ªååŒº
            const allBack = Array.from({length: 12}, (_, i) => i + 1);
            for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * allBack.length);
                const selectedNumber = allBack.splice(randomIndex, 1)[0];
                toggleDltBack(selectedNumber);
            }
        }
        
        // æœºé€‰ä¸€ç»„
        function randomSelect() {
            if (currentGameType === 'ssq') {
                randomSsq();
            } else if (currentGameType === 'dlt') {
                randomDlt();
            } else {
                randomLhc();
            }
        }
        
        // æ¸…é™¤åŒè‰²çƒé€‰æ‹©
        function clearSsqSelection() {
            // æ¸…é™¤çº¢çƒ
            ssqSelectedRed.forEach(number => {
                const ball = document.querySelector(`#ssqRedBalls .red-ball[data-number="${number}"]`);
                ball.classList.remove('selected');
            });
            ssqSelectedRed = [];
            
            // æ¸…é™¤è“çƒ
            if (ssqSelectedBlue !== null) {
                const ball = document.querySelector(`#ssqBlueBalls .blue-ball[data-number="${ssqSelectedBlue}"]`);
                ball.classList.remove('selected');
                ssqSelectedBlue = null;
            }
            
            updateSsqDisplay();
        }
        
        // æ¸…é™¤å…­åˆå½©é€‰æ‹©
        function clearLhcSelection() {
            // æ¸…é™¤å¹³ç 
            lhcSelectedNormal.forEach(number => {
                const ball = document.querySelector(`#lhcNormalBalls .lhc-ball[data-number="${number}"]`);
                ball.classList.remove('selected');
            });
            lhcSelectedNormal = [];
            
            // æ¸…é™¤ç‰¹ç 
            if (lhcSelectedSpecial !== null) {
                const ball = document.querySelector(`#lhcSpecialBalls .lhc-ball[data-number="${lhcSelectedSpecial}"]`);
                ball.classList.remove('selected');
                lhcSelectedSpecial = null;
            }
            
            // éšè—ç»“æœæ˜¾ç¤º
            lhcResultDisplay.style.display = 'none';
            
            updateLhcDisplay();
        }
        
        // æ¸…é™¤å¤§ä¹é€é€‰æ‹©
        function clearDltSelection() {
            // æ¸…é™¤å‰åŒº
            dltSelectedFront.forEach(number => {
                const ball = document.querySelector(`#dltFrontBalls .front-ball[data-number="${number}"]`);
                ball.classList.remove('selected');
            });
            dltSelectedFront = [];
            
            // æ¸…é™¤ååŒº
            dltSelectedBack.forEach(number => {
                const ball = document.querySelector(`#dltBackBalls .blue-ball[data-number="${number}"]`);
                ball.classList.remove('selected');
            });
            dltSelectedBack = [];
            
            updateDltDisplay();
        }
        
        // æ¸…é™¤å½“å‰æ¸¸æˆé€‰æ‹©
        function clearSelection() {
            if (currentGameType === 'ssq') {
                clearSsqSelection();
            } else if (currentGameType === 'dlt') {
                clearDltSelection();
            } else {
                clearLhcSelection();
            }
        }
        
        // æ¸…ç©ºæ‰€æœ‰ï¼ˆé‡ç½®é¡µé¢ï¼‰
        function clearAll() {
            location.reload();
        }
        
        // åˆå§‹åŒ–
        function init() {
            // åˆå§‹åŒ–æ‰€æœ‰çƒ
            initSsqRedBalls();
            initSsqBlueBalls();
            initDltFrontBalls();
            initDltBackBalls();
            initLhcNormalBalls();
            initLhcSpecialBalls();
            
            // ç»‘å®šäº‹ä»¶
            // é€‰é¡¹å¡åˆ‡æ¢
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    switchGameType(btn.dataset.type);
                });
            });
            
            // æ§åˆ¶æŒ‰é’®
            randomBtn.addEventListener('click', randomSelect);
            clearBtn.addEventListener('click', clearSelection);
            clearAllBtn.addEventListener('click', clearAll);
            
            // å…­åˆå½©æœºé€‰ä¸‰å…¨ä¸­æŒ‰é’®
            lhcThreeAllBtn.addEventListener('click', randomLhcThreeAll);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>